
    <form [formGroup]="form" novalidate class="p-2">

      <div class="form-group">
        <div *ngIf=" data?.primary_photo?.idx " class="primary-photo" style="position: relative; max-width: 100px;">
          <span (click)="onClickDeletePhoto()" class="fa-stack fa-lg pointer" style="position: absolute; right: .6em; bottom: .6em;">
            <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
            <i class="fa fa-trash fa-stack-1x"></i>
          </span>
          <img class="img-thumbnail" src="{{ data.primary_photo.url }}&crop=100x120x80">
        </div>
      </div>

      <div class="form-group" *ngIf=" percentage ">
          <div class="progress bg-grey w-100 my-1">
            <div class="progress-bar" role="progressbar" [style.width]=" percentage + '%' " aria-valuemin="0" aria-valuemax="100">{{ percentage }}%</div>
          </div>
      </div>

      <div class="form-group">
      
        <input class="form-control-file" #userfile type="file" (change)="onChangeFileUpload( userfile )">
      </div>
      


      <ng-container *ngIf=" ! user.logged ">
      <div class="form-group">
        <input class="form-control" formControlName="id" placeholder="User ID">
      </div>
      <div *ngIf="formErrors.id" class="alert alert-danger">
        {{ formErrors.id }}
      </div>
      <div class="form-group">
        <input class="form-control" formControlName="password" placeholder="Password">
      </div>
      <div *ngIf="formErrors.password" class="alert alert-danger">
        {{ formErrors.password }}
      </div>
      </ng-container>
      
      <div class="form-group" *ngIf=" user.logged ">
        {{ user.info.id }}
      </div>

      <div class="form-group">
        <input class="form-control" formControlName="name" placeholder="Name">
      </div>
      <div *ngIf="formErrors.name" class="alert alert-danger">
        {{ formErrors.name }}
      </div>

      <div class="form-group">
        <input class="form-control" formControlName="email" placeholder="Email">
      </div>
      <div *ngIf="formErrors.email" class="alert alert-danger">
        {{ formErrors.email }}
      </div>

      <div class="form-group">
        <input class="form-control" formControlName="mobile" placeholder="Mobile">
      </div>
      
      <div class="form-group">
        <div class="col-4 col-sm-4">Gender</div>
        <div class="col-8 col-sm-8">
          <div class="form-check form-check-inline">
            <label class="form-check-label">
              <input class="form-check-input" type="radio" formControlName="gender" id="inlineRadio1" value="M"> Male
            </label>
          </div>
          <div class="form-check form-check-inline">
            <label class="form-check-label">
              <input class="form-check-input" type="radio" formControlName="gender" id="inlineRadio2" value="F"> Female
            </label>
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <input class="form-control" formControlName="birthday" type="date">
      </div>
      

      <div class="form-group" *ngIf=" ! user.logged ">
          <button type="button" class="btn btn-success btn-block btn-sm" (click)="onClickRegister()"
            [disabled] = " ! form.valid "
          >Register</button>
      </div>
      <div class="form-group" *ngIf=" user.logged ">
          <button type="button" class="btn btn-success btn-block btn-sm" (click)="onClickUpdate()"
          [disabled] = " ! form.valid "
          >Update</button>
      </div>
      
      <div class="form-group">
        <button class="btn btn-secondary btn-block btn-sm" type="button" (click)="onClickCancel()">Cancel</button>
      </div>
  </form>